<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    body {
      margin: 0;
      padding: 0;
      height: 100%;
      overflow: hidden;
    }

    canvas {
      width: 100vw;
      height: 100vh;
      display: block;
    }

    .content-work,
    .content-about {
      position: absolute;
      top: 50px;
      left: 50%;
      transform: translateX(-50%);
      z-index: 1;
      width: 90%;
      max-width: 500px;
      font-size: 20px;
      padding: 20px;
      background: rgba(50, 50, 50, 0.8);
      color: white;
    }

    * {
      -webkit-tap-highlight-color: transparent;
      -webkit-touch-callout: none;
      -webkit-user-select: none;
      -moz-user-select: none;
      -ms-user-select: none;
      user-select: none;
    }
  </style>
  <title>Weisdevice</title>
</head>

<body>

  <header>
    <canvas id="glcanvas"></canvas>
  </header>

  <div class="content-work" id="contentBox-work" style="display: none;">
    <h1>workkkkkk</h1>
  </div>

  <div class="content-about" id="contentBox-about" style="display: none;">
    <h1>aboutttt</h1>
  </div>

  <script type="text/javascript" src="js/patch.js" async></script>

  <script type="text/javascript">
    function myFunctionWork() {
      console.log("Work triggered");
      const content = document.getElementById('contentBox-work');
      content.style.display = (content.style.display === 'none') ? 'block' : 'none';
    }

    function myFunctionAbout() {
      console.log("About triggered");
      const content = document.getElementById('contentBox-about');
      content.style.display = (content.style.display === 'none') ? 'block' : 'none';
    }

    function myFunctionMail() {
      const email = "xianyao.wei.de@gmail.com";
      const subject = "Hello from the website";
      const body = " ";
      const mailtoLink = `mailto:${email}?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
      window.location.href = mailtoLink;
    }

    function myFunctionStart() {
      console.log("start triggered");
    }

    function showError(initiator, ...args) {
      CABLES.logErrorConsole("[" + initiator + "]", ...args);
    }

    function patchInitialized(patch) {
      // Patch is ready, do other things here
    }

    function patchFinishedLoading(patch) {
      // All assets have finished loading
    }

    document.addEventListener("CABLES.jsLoaded", function () {
      CABLES.patch = new CABLES.Patch({
        patch: CABLES.exportedPatch,
        prefixAssetPath: "",
        assetPath: "assets/",
        jsPath: "js/",
        glCanvasId: "glcanvas",
        glCanvasResizeToWindow: true,
        onError: showError,
        onPatchLoaded: patchInitialized,
        onFinishedLoading: patchFinishedLoading,
        canvas: { alpha: true, premultipliedAlpha: true },
        outSidefunctionWork: myFunctionWork,
        outSidefunctionMail: myFunctionMail,
        outSidefunctionAbout: myFunctionAbout,
        outSidefunctionStart: myFunctionStart,
      });
    });

    // Automatically resize canvas on window resize
    window.addEventListener('resize', function () {
      const canvas = document.getElementById('glcanvas');
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
    });

    // Set initial canvas size
    window.dispatchEvent(new Event('resize'));
  </script>

</body>

</html>